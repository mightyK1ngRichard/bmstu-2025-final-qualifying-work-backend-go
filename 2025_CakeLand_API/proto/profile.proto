syntax = "proto3";

import "google/protobuf/wrappers.proto";
import "cake.proto";

package profile;
option go_package = "internal/pkg/profile/delivery/grpc/generated";

/* ############### GetUserInfo ############### */

message GetUserInfoReq {
  string userID = 1;
}

message GetUserInfoRes {
  UserInfo userInfo = 1;
}

/* ############### ProfileService ############### */

service ProfileService {
  rpc GetUserInfo(GetUserInfoReq) returns (GetUserInfoRes);
}

message Profile {
  string id = 1;
  google.protobuf.StringValue fio = 2;
  google.protobuf.StringValue address = 3;
  string nickname = 4;
  google.protobuf.StringValue image_url = 5;
  google.protobuf.StringValue header_image_url = 6;
  string mail = 7;
  string password_hash = 8;
  google.protobuf.StringValue phone = 9;
  google.protobuf.StringValue card_number = 10;
  map<string, string> refresh_tokens_map = 11;
}

message UserInfo {
  Profile user = 1;
  repeated cake.PreviewCake cakes = 2;
}